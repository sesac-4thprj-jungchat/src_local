{"ast":null,"code":"import React,{useEffect,useState,useCallback}from\"react\";import{BrowserRouter as Router,Routes,Route,Navigate}from\"react-router-dom\";import ChatBot from\"./components/ChatBot/ChatBot.js\";import ChatSessionDetail from\"./components/ChatBot/ChatSessionDetail\";import Layout from\"./components/ChatBot/Layout.js\";import Header from\"./components/ui/Header\";import LoginForm from\"./components/signUp/LoginForm\";import SignUp0 from\"./components/signUp/SignUp0\";import SignUp1 from\"./components/signUp/SignUp1\";import SignUp3 from\"./components/signUp/SignUp3\";import MainPage from\"./components/ChatBot/MainPage\";import MyPage from\"./components/mypage/MyPage\";import useAuthStore from\"./components/context/authStore.js\";//redux\nimport{Provider}from'react-redux';import store from'./components/redux/store';// store.jsÏùò Í≤ΩÎ°úÏóê ÎßûÍ≤å ÏàòÏ†ï\nimport\"./App.css\";// üîí Î°úÍ∑∏Ïù∏ ÌïÑÏàò ÌéòÏù¥ÏßÄ Î≥¥Ìò∏ (PrivateRoute)\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const PrivateRoute=_ref=>{let{element}=_ref;const{user}=useAuthStore();return user?element:/*#__PURE__*/_jsx(Navigate,{to:\"/login\",replace:true});};function App(){const{fetchUser}=useAuthStore();const[showHeader,setShowHeader]=useState(false);// Ïì∞Î°úÌãÄ Ìï®Ïàò: ÏßÄÏ†ïÎêú ÏãúÍ∞Ñ(ms) Í∞ÑÍ≤©ÏúºÎ°úÎßå Ìï®Ïàò Ïã§ÌñâÏùÑ ÌóàÏö©\nconst throttle=(func,delay)=>{let lastCall=0;return function(){const now=new Date().getTime();if(now-lastCall<delay){return;}lastCall=now;return func(...arguments);};};// useCallbackÏúºÎ°ú Ï∞∏Ï°∞ ÏïàÏ†ïÏÑ± Î≥¥Ïû•\nconst handleMouseMove=useCallback(throttle(e=>{if(e.clientY<=50){setShowHeader(true);}else{setShowHeader(false);}},100),// 100ms Í∞ÑÍ≤©ÏúºÎ°ú Ïì∞Î°úÌãÄÎßÅ\n[]);useEffect(()=>{fetchUser();// Ïì∞Î°úÌãÄÎßÅÎêú Ïù¥Î≤§Ìä∏ Ìï∏Îì§Îü¨ Îì±Î°ù\ndocument.addEventListener('mousemove',handleMouseMove);return()=>{document.removeEventListener('mousemove',handleMouseMove);};},[fetchUser,handleMouseMove]);return/*#__PURE__*/_jsxs(Provider,{store:store,children:[\" \",/*#__PURE__*/_jsxs(Router,{children:[/*#__PURE__*/_jsx(\"div\",{className:`header-container ${showHeader?'header-visible':'header-hidden'}`,children:/*#__PURE__*/_jsx(Header,{})}),/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(MainPage,{})}),/*#__PURE__*/_jsxs(Route,{path:\"chat\",element:/*#__PURE__*/_jsx(PrivateRoute,{element:/*#__PURE__*/_jsx(Layout,{})}),children:[/*#__PURE__*/_jsx(Route,{index:true,element:/*#__PURE__*/_jsx(ChatBot,{})}),/*#__PURE__*/_jsx(Route,{path:\":sessionId\",element:/*#__PURE__*/_jsx(ChatSessionDetail,{})})]}),/*#__PURE__*/_jsx(Route,{path:\"login\",element:/*#__PURE__*/_jsx(LoginForm,{})}),/*#__PURE__*/_jsx(Route,{path:\"signup\",element:/*#__PURE__*/_jsx(SignUp0,{})}),/*#__PURE__*/_jsx(Route,{path:\"signup1\",element:/*#__PURE__*/_jsx(SignUp1,{})}),/*#__PURE__*/_jsx(Route,{path:\"signup3\",element:/*#__PURE__*/_jsx(SignUp3,{})}),/*#__PURE__*/_jsx(Route,{path:\"mypage\",element:/*#__PURE__*/_jsx(PrivateRoute,{element:/*#__PURE__*/_jsx(MyPage,{})})})]})]})]});}export default App;","map":{"version":3,"names":["React","useEffect","useState","useCallback","BrowserRouter","Router","Routes","Route","Navigate","ChatBot","ChatSessionDetail","Layout","Header","LoginForm","SignUp0","SignUp1","SignUp3","MainPage","MyPage","useAuthStore","Provider","store","jsx","_jsx","jsxs","_jsxs","PrivateRoute","_ref","element","user","to","replace","App","fetchUser","showHeader","setShowHeader","throttle","func","delay","lastCall","now","Date","getTime","arguments","handleMouseMove","e","clientY","document","addEventListener","removeEventListener","children","className","path","index"],"sources":["/home/elicer/Fundit_2.1/fronted/src/App.js"],"sourcesContent":["import React, { useEffect, useState, useCallback } from \"react\";\nimport { BrowserRouter as Router, Routes, Route, Navigate } from \"react-router-dom\";\nimport ChatBot from \"./components/ChatBot/ChatBot.js\";\nimport ChatSessionDetail from \"./components/ChatBot/ChatSessionDetail\";\nimport Layout from \"./components/ChatBot/Layout.js\";\nimport Header from \"./components/ui/Header\";\nimport LoginForm from \"./components/signUp/LoginForm\";\nimport SignUp0 from \"./components/signUp/SignUp0\";\nimport SignUp1 from \"./components/signUp/SignUp1\";\nimport SignUp3 from \"./components/signUp/SignUp3\";\nimport MainPage from \"./components/ChatBot/MainPage\";\nimport MyPage from \"./components/mypage/MyPage\";\nimport useAuthStore from \"./components/context/authStore.js\";\n//redux\nimport { Provider } from 'react-redux';\nimport store from './components/redux/store'; // store.jsÏùò Í≤ΩÎ°úÏóê ÎßûÍ≤å ÏàòÏ†ï\nimport \"./App.css\";\n\n// üîí Î°úÍ∑∏Ïù∏ ÌïÑÏàò ÌéòÏù¥ÏßÄ Î≥¥Ìò∏ (PrivateRoute)\nconst PrivateRoute = ({ element }) => {\n  const { user } = useAuthStore();\n  return user ? element : <Navigate to=\"/login\" replace />;\n};\n\nfunction App() {\n  const { fetchUser } = useAuthStore();\n  const [showHeader, setShowHeader] = useState(false);\n\n\n  // Ïì∞Î°úÌãÄ Ìï®Ïàò: ÏßÄÏ†ïÎêú ÏãúÍ∞Ñ(ms) Í∞ÑÍ≤©ÏúºÎ°úÎßå Ìï®Ïàò Ïã§ÌñâÏùÑ ÌóàÏö©\n  const throttle = (func, delay) => {\n    let lastCall = 0;\n    return function(...args) {\n      const now = new Date().getTime();\n      if (now - lastCall < delay) {\n        return;\n      }\n      lastCall = now;\n      return func(...args);\n    };\n  };\n\n  // useCallbackÏúºÎ°ú Ï∞∏Ï°∞ ÏïàÏ†ïÏÑ± Î≥¥Ïû•\n  const handleMouseMove = useCallback(\n    throttle((e) => {\n      if (e.clientY <= 50) {\n        setShowHeader(true);\n      } else {\n        setShowHeader(false);\n      }\n    }, 100), // 100ms Í∞ÑÍ≤©ÏúºÎ°ú Ïì∞Î°úÌãÄÎßÅ\n    []\n  );\n\n  useEffect(() => {\n    fetchUser();\n\n    // Ïì∞Î°úÌãÄÎßÅÎêú Ïù¥Î≤§Ìä∏ Ìï∏Îì§Îü¨ Îì±Î°ù\n    document.addEventListener('mousemove', handleMouseMove);\n\n    return () => {\n      document.removeEventListener('mousemove', handleMouseMove);\n    };\n  }, [fetchUser, handleMouseMove]);\n\n  return (\n    <Provider store={store}> {/* Redux ProviderÎ°ú Í∞êÏã∏Í∏∞ */}\n      <Router>\n        <div className={`header-container ${showHeader ? 'header-visible' : 'header-hidden'}`}>\n          <Header />\n        </div>\n        <Routes>\n          <Route path=\"/\" element={<MainPage />} />\n          <Route path=\"chat\" element={<PrivateRoute element={<Layout />} />}>\n            <Route index element={<ChatBot />} />\n            <Route path=\":sessionId\" element={<ChatSessionDetail />} />\n          </Route>\n          <Route path=\"login\" element={<LoginForm />} />\n          <Route path=\"signup\" element={<SignUp0 />} />\n          <Route path=\"signup1\" element={<SignUp1 />} />\n          <Route path=\"signup3\" element={<SignUp3 />} />\n          <Route path=\"mypage\" element={<PrivateRoute element={<MyPage />} />} />\n        </Routes>\n      </Router>\n    </Provider>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}