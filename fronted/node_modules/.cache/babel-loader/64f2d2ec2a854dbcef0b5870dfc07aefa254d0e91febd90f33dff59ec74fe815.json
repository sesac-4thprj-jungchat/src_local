{"ast":null,"code":"import{create}from\"zustand\";import axios from\"axios\";const useAuthStore=create(set=>({user:null,// 로그인 상태 확인\nfetchUser:async()=>{try{const res=await axios.get(\"http://localhost:8000/me\",{withCredentials:true});set({user:res.data.user});}catch{set({user:null});}},// 로그인 요청\nlogin:async(user_id,password)=>{try{const res=await axios.post(\"http://localhost:8000/login\",{user_id,password},{withCredentials:true});set({user:res.data.user});return true;}catch{return false;}},// 로그아웃 요청\nlogout:async()=>{try{await axios.get(\"http://localhost:8000/logout\",{withCredentials:true});set({user:null});}catch{console.error(\"로그아웃 실패\");}}}));export default useAuthStore;","map":{"version":3,"names":["create","axios","useAuthStore","set","user","fetchUser","res","get","withCredentials","data","login","user_id","password","post","logout","console","error"],"sources":["/home/elicer/Fundit_2.1/fronted/src/components/context/authStore.js"],"sourcesContent":["import { create } from \"zustand\";\nimport axios from \"axios\";\n\nconst useAuthStore = create((set) => ({\n  user: null,\n\n  // 로그인 상태 확인\n  fetchUser: async () => {\n    try {\n      const res = await axios.get(\"http://localhost:8000/me\", {\n        withCredentials: true,\n      });\n      set({ user: res.data.user });\n    } catch {\n      set({ user: null });\n    }\n  },\n\n  // 로그인 요청\n  login: async (user_id, password) => {\n    try {\n      const res = await axios.post(\n        \"http://localhost:8000/login\",\n        { user_id, password },\n        { withCredentials: true }\n      );\n      set({ user: res.data.user });\n      return true;\n    } catch {\n      return false;\n    }\n  },\n\n  // 로그아웃 요청\n  logout: async () => {\n    try {\n      await axios.get(\"http://localhost:8000/logout\", {\n        withCredentials: true,\n      });\n      set({ user: null });\n    } catch {\n      console.error(\"로그아웃 실패\");\n    }\n  },\n}));\n\nexport default useAuthStore;\n"],"mappings":"AAAA,OAASA,MAAM,KAAQ,SAAS,CAChC,MAAO,CAAAC,KAAK,KAAM,OAAO,CAEzB,KAAM,CAAAC,YAAY,CAAGF,MAAM,CAAEG,GAAG,GAAM,CACpCC,IAAI,CAAE,IAAI,CAEV;AACAC,SAAS,CAAE,KAAAA,CAAA,GAAY,CACrB,GAAI,CACF,KAAM,CAAAC,GAAG,CAAG,KAAM,CAAAL,KAAK,CAACM,GAAG,CAAC,0BAA0B,CAAE,CACtDC,eAAe,CAAE,IACnB,CAAC,CAAC,CACFL,GAAG,CAAC,CAAEC,IAAI,CAAEE,GAAG,CAACG,IAAI,CAACL,IAAK,CAAC,CAAC,CAC9B,CAAE,KAAM,CACND,GAAG,CAAC,CAAEC,IAAI,CAAE,IAAK,CAAC,CAAC,CACrB,CACF,CAAC,CAED;AACAM,KAAK,CAAE,KAAAA,CAAOC,OAAO,CAAEC,QAAQ,GAAK,CAClC,GAAI,CACF,KAAM,CAAAN,GAAG,CAAG,KAAM,CAAAL,KAAK,CAACY,IAAI,CAC1B,6BAA6B,CAC7B,CAAEF,OAAO,CAAEC,QAAS,CAAC,CACrB,CAAEJ,eAAe,CAAE,IAAK,CAC1B,CAAC,CACDL,GAAG,CAAC,CAAEC,IAAI,CAAEE,GAAG,CAACG,IAAI,CAACL,IAAK,CAAC,CAAC,CAC5B,MAAO,KAAI,CACb,CAAE,KAAM,CACN,MAAO,MAAK,CACd,CACF,CAAC,CAED;AACAU,MAAM,CAAE,KAAAA,CAAA,GAAY,CAClB,GAAI,CACF,KAAM,CAAAb,KAAK,CAACM,GAAG,CAAC,8BAA8B,CAAE,CAC9CC,eAAe,CAAE,IACnB,CAAC,CAAC,CACFL,GAAG,CAAC,CAAEC,IAAI,CAAE,IAAK,CAAC,CAAC,CACrB,CAAE,KAAM,CACNW,OAAO,CAACC,KAAK,CAAC,SAAS,CAAC,CAC1B,CACF,CACF,CAAC,CAAC,CAAC,CAEH,cAAe,CAAAd,YAAY","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}